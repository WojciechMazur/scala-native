@@ -3299,2867 +3299,1051 @@
 runtimeClass.asInstanceOf%5BjClass%5BT%5D%5D%0A%0A  /** Retrieve generic array element */%0A  
+@inline 
 def array_apply(xs: AnyRef, idx: Int): Any = %7B%0A    
-xs match %7B%0A      case x: Array%5BAnyRef%5D  =%3E x(idx).asInstanceOf%5BAny%5D%0A      case x: Array%5BInt%5D     =%3E x(idx).asInstanceOf%5BAny%5D%0A      case x: Array%5BDouble%5D  =%3E x(idx).asInstanceOf%5BAny%5D%0A      case x: Array%5BLong%5D    =%3E x(idx).asInstanceOf%5BAny%5D%0A      case x: Array%5BFloat%5D   =%3E x(idx).asInstanceOf%5BAny%5D%0A      case x: Array%5BChar%5D    =%3E x(idx).asInstanceOf%5BAny%5D
+if (xs == null) %7B%0A      throw new NullPointerException
 %0A    
-  case x: Array%5BByte%5D    =%3E x(idx).asInstanceOf%5BAny%5D%0A      case x: Array%5BShort%5D   =%3E x(idx).asInstanceOf%5BAny%5D%0A      case x: Array%5BBoolean%5D =%3E x(idx).asInstanceOf%5BAny%5D%0A      case x: Array%5BUnit%5D    =%3E x(idx).asInstanceOf%5BAny%5D%0A      case null =%3E throw new NullPointerException
+%7D else %7B%0A      xs.asInstanceOf%5Bscala.scalanative.runtime.Array%5BAny%5D%5D.apply(idx)
 %0A    %7D%0A  %7D%0A%0A  /** update generic array element */%0A  
+@inline 
 def array_update(xs: AnyRef, idx: Int, value: Any): Unit = %7B%0A    
-xs match %7B%0A      case x: Array%5BAnyRef%5D  =%3E x(idx) = value.asInstanceOf%5BAnyRef%5D%0A      case x: Array%5BInt%5D     =%3E x(idx) = value.asInstanceOf%5BInt%5D%0A      case x: Array%5BDouble%5D  =%3E x(idx) = value.asInstanceOf%5BDouble%5D%0A      case x: Array%5BLong%5D    =%3E x(idx) = value.asInstanceOf%5BLong%5D%0A      case x: Array%5BFloat%5D   =%3E x(idx) = value.asInstanceOf%5BFloat%5D%0A      case x: Array%5BChar%5D    =%3E x(idx) = value.asInstanceOf%5BChar%5D
+if (xs == null) %7B%0A      throw new NullPointerException
 %0A    
-  case x: Array%5BByte%5D    =%3E x(idx) = value.asInstanceOf%5BByte%5D%0A      case x: Array%5BShort%5D   =%3E x(idx) = value.asInstanceOf%5BShort%5D%0A      case x: Array%5BBoolean%5D =%3E x(idx) = value.asInstanceOf%5BBoolean%5D%0A      case x: Array%5BUnit%5D    =%3E x
+%7D else %7B%0A      xs.asInstanceOf%5Bscala.scalanative.runtime.Array%5BAny%5D%5D.update
 (idx
-) =
+,
  value
-.asInstanceOf%5BUnit%5D%0A      case null =%3E throw new NullPointerException
+)
 %0A    %7D%0A  %7D%0A%0A  /** Get generic array length */%0A  def array_length(xs: AnyRef): Int = 
-xs match %7B%0A    case x: Array%5BAnyRef%5D  =%3E x.length%0A    case x: Array%5BInt%5D     =%3E x.length%0A    case x: Array%5BDouble%5D  =%3E x.length%0A    case x: Array%5BLong%5D    =%3E x.length%0A    case x: Array%5BFloat%5D   =%3E x.length%0A    case x: Array%5BChar%5D    =%3E x.length
+%7B%0A    if (xs == null) %7B%0A      throw new NullPointerException
 %0A    
-case x: Array%5BByte%5D
+%7D else %7B%0A 
     
-=%3E x.length%0A    case x: Array%5BShort%5D   =%3E x.length%0A    case x: Array%5BBoolean%5D =%3E x.length%0A    case x: Array%5BUnit%5D    =%3E x.length%0A    case null =%3E throw new NullPointerException%0A  %7D%0A%0A  def array_clone(xs: AnyRef): AnyRef = xs match %7B%0A    case x: Array%5BAnyRef%5D  =%3E ArrayRuntime.cloneArray(x)%0A    case x: Array%5BInt%5D     =%3E ArrayRuntime.cloneArray(x)%0A    case x: Array%5BDouble%5D  =%3E ArrayRuntime.cloneArray(x)%0A    case x: Array%5BLong%5D    =%3E ArrayRuntime.cloneArray(x)%0A    case x: Array%5BFloat%5D   =%3E ArrayRuntime.cloneArray(x)%0A    case x: Array%5BChar%5D    =%3E ArrayRuntime.cloneArray(x)%0A    case x: Array%5BByte%5D    =%3E ArrayRun
+ xs.asInstanceOf%5Bscala.scalanative.runtime.Array%5BAny%5D%5D.length%0A    %7D%0A  %7D%0A%0A  def array_clone(xs: AnyRef): AnyRef = %7B%0A    if (xs == null) %7B%0A      throw new NullPointerException%0A    %7D else %7B%0A      xs.asInstanceOf%5Bscala.scalana
 ti
-m
+v
 e.
-cloneArray(x)%0A    case x: Array%5BShort%5D   =%3E ArrayRuntime.cloneArray(x)%0A    case x: Array%5BBoolean%5D =%3E ArrayRuntime.cloneArray(x)%0A    case x: Array%5BUnit%5D    =%3E x%0A    case null =%3E throw new NullPointerException
+runtime.Array%5BAny%5D%5D.clone()%0A    %7D
 %0A  %7D%0A%0A  /** Convert an array to an object array.%0A   *  Needed to deal with varar
